ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"VolPro.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.global	__aeabi_ui2f
  16              		.global	__aeabi_fmul
  17              		.global	__aeabi_f2d
  18              		.global	__aeabi_dmul
  19              		.global	__aeabi_d2f
  20              		.global	__aeabi_dcmplt
  21              		.global	__aeabi_ddiv
  22              		.global	__aeabi_fadd
  23              		.global	__aeabi_f2uiz
  24              		.global	__aeabi_fdiv
  25              		.global	__aeabi_fcmple
  26              		.section	.text.CalculatedAverage,"ax",%progbits
  27              		.align	1
  28              		.global	CalculatedAverage
  29              		.arch armv7-m
  30              		.syntax unified
  31              		.thumb
  32              		.thumb_func
  33              		.fpu softvfp
  35              	CalculatedAverage:
  36              	.LFB65:
  37              		.file 1 "APP/VolPro.c"
   1:APP/VolPro.c  **** #include "VolPro.h"
   2:APP/VolPro.c  **** 
   3:APP/VolPro.c  **** extern u8 volComplt;
   4:APP/VolPro.c  **** _Vol Vol = {
   5:APP/VolPro.c  **** 	.ADS = { 0, 0, 0, 0, 0, 0 },
   6:APP/VolPro.c  **** 	.complate = 0,
   7:APP/VolPro.c  **** 	.cnt = 0,
   8:APP/VolPro.c  **** };
   9:APP/VolPro.c  **** 
  10:APP/VolPro.c  **** float temp;
  11:APP/VolPro.c  **** void CalculatedAverage(void) 
  12:APP/VolPro.c  **** {
  38              		.loc 1 12 1 view -0
  39              		.cfi_startproc
  40              		@ args = 0, pretend = 0, frame = 0
  41              		@ frame_needed = 0, uses_anonymous_args = 0
  42 0000 38B5     		push	{r3, r4, r5, lr}
  43              	.LCFI0:
  44              		.cfi_def_cfa_offset 16
  45              		.cfi_offset 3, -16
  46              		.cfi_offset 4, -12
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 2


  47              		.cfi_offset 5, -8
  48              		.cfi_offset 14, -4
  13:APP/VolPro.c  **** 	u8 i;
  49              		.loc 1 13 2 view .LVU1
  14:APP/VolPro.c  **** 	mySort(Vol.AD_Temps, MAXVOLCNT);										//升序排列AD值
  50              		.loc 1 14 2 view .LVU2
  51 0002 AD4C     		ldr	r4, .L27+80
  52 0004 1421     		movs	r1, #20
  53 0006 04F10800 		add	r0, r4, #8
  54 000a FFF7FEFF 		bl	mySort
  55              	.LVL0:
  15:APP/VolPro.c  **** 	Vol.VolTemp = 0;
  56              		.loc 1 15 2 view .LVU3
  57              		.loc 1 15 14 is_stmt 0 view .LVU4
  58 000e 0023     		movs	r3, #0
  59 0010 6360     		str	r3, [r4, #4]
  16:APP/VolPro.c  **** 	for (i = VOLOFFSET; i < MAXVOLCNT - VOLOFFSET; i++)			//两端AD值不计算
  60              		.loc 1 16 2 is_stmt 1 view .LVU5
  61              	.LVL1:
  62              		.loc 1 16 9 is_stmt 0 view .LVU6
  63 0012 0523     		movs	r3, #5
  64              	.LVL2:
  65              	.L2:
  66              		.loc 1 16 2 discriminator 1 view .LVU7
  67 0014 0E2B     		cmp	r3, #14
  68 0016 09D8     		bhi	.L26
  17:APP/VolPro.c  **** 		Vol.VolTemp += Vol.AD_Temps[i];
  69              		.loc 1 17 3 is_stmt 1 discriminator 3 view .LVU8
  70              		.loc 1 17 30 is_stmt 0 discriminator 3 view .LVU9
  71 0018 A74A     		ldr	r2, .L27+80
  72 001a 991C     		adds	r1, r3, #2
  73 001c 52F82100 		ldr	r0, [r2, r1, lsl #2]
  74              		.loc 1 17 15 discriminator 3 view .LVU10
  75 0020 5168     		ldr	r1, [r2, #4]
  76 0022 0144     		add	r1, r1, r0
  77 0024 5160     		str	r1, [r2, #4]
  16:APP/VolPro.c  **** 	for (i = VOLOFFSET; i < MAXVOLCNT - VOLOFFSET; i++)			//两端AD值不计算
  78              		.loc 1 16 50 discriminator 3 view .LVU11
  79 0026 0133     		adds	r3, r3, #1
  80              	.LVL3:
  16:APP/VolPro.c  **** 	for (i = VOLOFFSET; i < MAXVOLCNT - VOLOFFSET; i++)			//两端AD值不计算
  81              		.loc 1 16 50 discriminator 3 view .LVU12
  82 0028 DBB2     		uxtb	r3, r3
  83              	.LVL4:
  16:APP/VolPro.c  **** 	for (i = VOLOFFSET; i < MAXVOLCNT - VOLOFFSET; i++)			//两端AD值不计算
  84              		.loc 1 16 50 discriminator 3 view .LVU13
  85 002a F3E7     		b	.L2
  86              	.L26:
  18:APP/VolPro.c  **** 	Vol.VolTemp /= (MAXVOLCNT - (VOLOFFSET << 1));
  87              		.loc 1 18 2 is_stmt 1 view .LVU14
  88              		.loc 1 18 14 is_stmt 0 view .LVU15
  89 002c A24A     		ldr	r2, .L27+80
  90 002e 5368     		ldr	r3, [r2, #4]
  91              	.LVL5:
  92              		.loc 1 18 14 view .LVU16
  93 0030 A249     		ldr	r1, .L27+84
  94 0032 A1FB0313 		umull	r1, r3, r1, r3
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 3


  95 0036 DB08     		lsrs	r3, r3, #3
  96 0038 5360     		str	r3, [r2, #4]
  19:APP/VolPro.c  **** 	Vol.ADS[Vol.CurCh] = Vol.VolTemp;
  97              		.loc 1 19 2 is_stmt 1 view .LVU17
  98              		.loc 1 19 13 is_stmt 0 view .LVU18
  99 003a 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 100              		.loc 1 19 21 view .LVU19
 101 003c 01F12C00 		add	r0, r1, #44
 102 0040 22F81030 		strh	r3, [r2, r0, lsl #1]	@ movhi
  20:APP/VolPro.c  **** 
  21:APP/VolPro.c  **** 	switch (Vol.CurCh) 
 103              		.loc 1 21 2 is_stmt 1 view .LVU20
 104 0044 0629     		cmp	r1, #6
 105 0046 00F2A780 		bhi	.L1
 106 004a DFE811F0 		tbh	[pc, r1, lsl #1]
 107              	.L6:
 108 004e 0700     		.2byte	(.L12-.L6)/2
 109 0050 5300     		.2byte	(.L11-.L6)/2
 110 0052 8400     		.2byte	(.L10-.L6)/2
 111 0054 A600     		.2byte	(.L9-.L6)/2
 112 0056 C800     		.2byte	(.L8-.L6)/2
 113 0058 EE00     		.2byte	(.L7-.L6)/2
 114 005a 4501     		.2byte	(.L5-.L6)/2
 115              		.p2align 1
 116              	.L12:
  22:APP/VolPro.c  **** 	{
  23:APP/VolPro.c  **** 	case AD0_VAC://计算市电输入电压
  24:APP/VolPro.c  **** 		temp = ((((float) Vol.ADS[0]) / 4096) * 3.3);
 117              		.loc 1 24 3 view .LVU21
 118              		.loc 1 24 13 is_stmt 0 view .LVU22
 119 005c 964B     		ldr	r3, .L27+80
 120 005e B3F85800 		ldrh	r0, [r3, #88]
 121 0062 FFF7FEFF 		bl	__aeabi_ui2f
 122              	.LVL6:
 123              		.loc 1 24 33 view .LVU23
 124 0066 4FF06651 		mov	r1, #964689920
 125 006a FFF7FEFF 		bl	__aeabi_fmul
 126              	.LVL7:
 127 006e FFF7FEFF 		bl	__aeabi_f2d
 128              	.LVL8:
 129              		.loc 1 24 41 view .LVU24
 130 0072 7DA3     		adr	r3, .L27
 131 0074 D3E90023 		ldrd	r2, [r3]
 132 0078 FFF7FEFF 		bl	__aeabi_dmul
 133              	.LVL9:
 134 007c FFF7FEFF 		bl	__aeabi_d2f
 135              	.LVL10:
 136              		.loc 1 24 8 view .LVU25
 137 0080 8F4B     		ldr	r3, .L27+88
 138 0082 1860     		str	r0, [r3]	@ float
  25:APP/VolPro.c  **** 		if(temp<0.4)
 139              		.loc 1 25 3 is_stmt 1 view .LVU26
 140              		.loc 1 25 10 is_stmt 0 view .LVU27
 141 0084 FFF7FEFF 		bl	__aeabi_f2d
 142              	.LVL11:
 143 0088 0446     		mov	r4, r0
 144 008a 0D46     		mov	r5, r1
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 4


 145              		.loc 1 25 5 view .LVU28
 146 008c 78A3     		adr	r3, .L27+8
 147 008e D3E90023 		ldrd	r2, [r3]
 148 0092 FFF7FEFF 		bl	__aeabi_dcmplt
 149              	.LVL12:
 150 0096 30B1     		cbz	r0, .L23
  26:APP/VolPro.c  **** 		{
  27:APP/VolPro.c  **** 			Vol.VAC = 0;
 151              		.loc 1 27 4 is_stmt 1 view .LVU29
 152              		.loc 1 27 12 is_stmt 0 view .LVU30
 153 0098 0023     		movs	r3, #0
 154 009a 874A     		ldr	r2, .L27+80
 155 009c 82F86630 		strb	r3, [r2, #102]
  28:APP/VolPro.c  **** 			Capture.CAP1_FAC.Freq = 0;
 156              		.loc 1 28 4 is_stmt 1 view .LVU31
 157              		.loc 1 28 26 is_stmt 0 view .LVU32
 158 00a0 884A     		ldr	r2, .L27+92
 159 00a2 1381     		strh	r3, [r2, #8]	@ movhi
 160 00a4 78E0     		b	.L1
 161              	.L23:
  29:APP/VolPro.c  **** 		}
  30:APP/VolPro.c  **** 		else
  31:APP/VolPro.c  **** 		{
  32:APP/VolPro.c  **** 			temp /= 2.96;
 162              		.loc 1 32 4 is_stmt 1 view .LVU33
 163              		.loc 1 32 9 is_stmt 0 view .LVU34
 164 00a6 74A3     		adr	r3, .L27+16
 165 00a8 D3E90023 		ldrd	r2, [r3]
 166 00ac 2046     		mov	r0, r4
 167 00ae 2946     		mov	r1, r5
 168 00b0 FFF7FEFF 		bl	__aeabi_ddiv
 169              	.LVL13:
 170 00b4 FFF7FEFF 		bl	__aeabi_d2f
 171              	.LVL14:
  33:APP/VolPro.c  **** 			temp *= 32.672;
 172              		.loc 1 33 4 is_stmt 1 view .LVU35
 173              		.loc 1 33 9 is_stmt 0 view .LVU36
 174 00b8 FFF7FEFF 		bl	__aeabi_f2d
 175              	.LVL15:
 176 00bc 70A3     		adr	r3, .L27+24
 177 00be D3E90023 		ldrd	r2, [r3]
 178 00c2 FFF7FEFF 		bl	__aeabi_dmul
 179              	.LVL16:
 180 00c6 FFF7FEFF 		bl	__aeabi_d2f
 181              	.LVL17:
  34:APP/VolPro.c  **** 			temp *= 8.8;		//变压器倍数
 182              		.loc 1 34 4 is_stmt 1 view .LVU37
 183              		.loc 1 34 9 is_stmt 0 view .LVU38
 184 00ca FFF7FEFF 		bl	__aeabi_f2d
 185              	.LVL18:
 186 00ce 6EA3     		adr	r3, .L27+32
 187 00d0 D3E90023 		ldrd	r2, [r3]
 188 00d4 FFF7FEFF 		bl	__aeabi_dmul
 189              	.LVL19:
 190 00d8 FFF7FEFF 		bl	__aeabi_d2f
 191              	.LVL20:
 192 00dc 784B     		ldr	r3, .L27+88
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 5


 193 00de 1860     		str	r0, [r3]	@ float
  35:APP/VolPro.c  **** 			Vol.VAC = temp+4;
 194              		.loc 1 35 4 is_stmt 1 view .LVU39
 195              		.loc 1 35 18 is_stmt 0 view .LVU40
 196 00e0 4FF08141 		mov	r1, #1082130432
 197 00e4 FFF7FEFF 		bl	__aeabi_fadd
 198              	.LVL21:
 199              		.loc 1 35 12 view .LVU41
 200 00e8 FFF7FEFF 		bl	__aeabi_f2uiz
 201              	.LVL22:
 202 00ec 724B     		ldr	r3, .L27+80
 203 00ee 83F86600 		strb	r0, [r3, #102]
 204 00f2 51E0     		b	.L1
 205              	.L11:
  36:APP/VolPro.c  **** 		}
  37:APP/VolPro.c  **** 		break;
  38:APP/VolPro.c  **** 	case AD1_VFN://计算风能输入电压
  39:APP/VolPro.c  **** 		temp = ((((float) Vol.ADS[1]) / 4096) * 3.3);
 206              		.loc 1 39 3 is_stmt 1 view .LVU42
 207              		.loc 1 39 28 is_stmt 0 view .LVU43
 208 00f4 704D     		ldr	r5, .L27+80
 209              		.loc 1 39 13 view .LVU44
 210 00f6 B5F85A00 		ldrh	r0, [r5, #90]
 211 00fa FFF7FEFF 		bl	__aeabi_ui2f
 212              	.LVL23:
 213              		.loc 1 39 33 view .LVU45
 214 00fe 4FF06651 		mov	r1, #964689920
 215 0102 FFF7FEFF 		bl	__aeabi_fmul
 216              	.LVL24:
 217 0106 FFF7FEFF 		bl	__aeabi_f2d
 218              	.LVL25:
 219              		.loc 1 39 41 view .LVU46
 220 010a 57A3     		adr	r3, .L27
 221 010c D3E90023 		ldrd	r2, [r3]
 222 0110 FFF7FEFF 		bl	__aeabi_dmul
 223              	.LVL26:
 224 0114 FFF7FEFF 		bl	__aeabi_d2f
 225              	.LVL27:
  40:APP/VolPro.c  **** 		temp /= 3;
 226              		.loc 1 40 3 is_stmt 1 view .LVU47
 227              		.loc 1 40 8 is_stmt 0 view .LVU48
 228 0118 6B49     		ldr	r1, .L27+96
 229 011a FFF7FEFF 		bl	__aeabi_fdiv
 230              	.LVL28:
  41:APP/VolPro.c  **** 		temp *= 56.5;
 231              		.loc 1 41 3 is_stmt 1 view .LVU49
 232              		.loc 1 41 8 is_stmt 0 view .LVU50
 233 011e 6B49     		ldr	r1, .L27+100
 234 0120 FFF7FEFF 		bl	__aeabi_fmul
 235              	.LVL29:
 236 0124 0446     		mov	r4, r0
 237 0126 664B     		ldr	r3, .L27+88
 238 0128 1860     		str	r0, [r3]	@ float
  42:APP/VolPro.c  **** 		Vol.VFN = temp;
 239              		.loc 1 42 3 is_stmt 1 view .LVU51
 240              		.loc 1 42 11 is_stmt 0 view .LVU52
 241 012a A866     		str	r0, [r5, #104]	@ float
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 6


  43:APP/VolPro.c  **** 		if(Vol.VFN <= 16)
 242              		.loc 1 43 3 is_stmt 1 view .LVU53
 243              		.loc 1 43 5 is_stmt 0 view .LVU54
 244 012c 4FF08341 		mov	r1, #1098907648
 245 0130 FFF7FEFF 		bl	__aeabi_fcmple
 246              	.LVL30:
 247 0134 18B1     		cbz	r0, .L24
  44:APP/VolPro.c  **** 			Capture.CAP2_FFN.Freq = 0;
 248              		.loc 1 44 4 is_stmt 1 view .LVU55
 249              		.loc 1 44 26 is_stmt 0 view .LVU56
 250 0136 634B     		ldr	r3, .L27+92
 251 0138 0022     		movs	r2, #0
 252 013a 5A82     		strh	r2, [r3, #18]	@ movhi
 253 013c 2CE0     		b	.L1
 254              	.L24:
  45:APP/VolPro.c  **** 		else
  46:APP/VolPro.c  **** 			Capture.CAP2_FFN.Freq = (Vol.VFN / 5) + 45;
 255              		.loc 1 46 4 is_stmt 1 view .LVU57
 256              		.loc 1 46 37 is_stmt 0 view .LVU58
 257 013e 6449     		ldr	r1, .L27+104
 258 0140 2046     		mov	r0, r4
 259 0142 FFF7FEFF 		bl	__aeabi_fdiv
 260              	.LVL31:
 261              		.loc 1 46 42 view .LVU59
 262 0146 6349     		ldr	r1, .L27+108
 263 0148 FFF7FEFF 		bl	__aeabi_fadd
 264              	.LVL32:
 265              		.loc 1 46 26 view .LVU60
 266 014c FFF7FEFF 		bl	__aeabi_f2uiz
 267              	.LVL33:
 268 0150 5C4B     		ldr	r3, .L27+92
 269 0152 5882     		strh	r0, [r3, #18]	@ movhi
 270 0154 20E0     		b	.L1
 271              	.L10:
  47:APP/VolPro.c  **** 		break;
  48:APP/VolPro.c  **** 	case AD2_VTY://计算太阳能输入电压
  49:APP/VolPro.c  **** 		temp = ((((float) Vol.ADS[2]) / 4096) * 3.275);
 272              		.loc 1 49 3 is_stmt 1 view .LVU61
 273              		.loc 1 49 28 is_stmt 0 view .LVU62
 274 0156 584C     		ldr	r4, .L27+80
 275              		.loc 1 49 13 view .LVU63
 276 0158 B4F85C00 		ldrh	r0, [r4, #92]
 277 015c FFF7FEFF 		bl	__aeabi_ui2f
 278              	.LVL34:
 279              		.loc 1 49 33 view .LVU64
 280 0160 4FF06651 		mov	r1, #964689920
 281 0164 FFF7FEFF 		bl	__aeabi_fmul
 282              	.LVL35:
 283 0168 FFF7FEFF 		bl	__aeabi_f2d
 284              	.LVL36:
 285              		.loc 1 49 41 view .LVU65
 286 016c 48A3     		adr	r3, .L27+40
 287 016e D3E90023 		ldrd	r2, [r3]
 288 0172 FFF7FEFF 		bl	__aeabi_dmul
 289              	.LVL37:
 290 0176 FFF7FEFF 		bl	__aeabi_d2f
 291              	.LVL38:
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 7


  50:APP/VolPro.c  **** 		temp /= 3;
 292              		.loc 1 50 3 is_stmt 1 view .LVU66
 293              		.loc 1 50 8 is_stmt 0 view .LVU67
 294 017a 5349     		ldr	r1, .L27+96
 295 017c FFF7FEFF 		bl	__aeabi_fdiv
 296              	.LVL39:
  51:APP/VolPro.c  **** 		temp *= 50.16;
 297              		.loc 1 51 3 is_stmt 1 view .LVU68
 298              		.loc 1 51 8 is_stmt 0 view .LVU69
 299 0180 FFF7FEFF 		bl	__aeabi_f2d
 300              	.LVL40:
 301 0184 44A3     		adr	r3, .L27+48
 302 0186 D3E90023 		ldrd	r2, [r3]
 303 018a FFF7FEFF 		bl	__aeabi_dmul
 304              	.LVL41:
 305 018e FFF7FEFF 		bl	__aeabi_d2f
 306              	.LVL42:
 307 0192 4B4B     		ldr	r3, .L27+88
 308 0194 1860     		str	r0, [r3]	@ float
  52:APP/VolPro.c  **** 		Vol.VTY = temp;
 309              		.loc 1 52 3 is_stmt 1 view .LVU70
 310              		.loc 1 52 11 is_stmt 0 view .LVU71
 311 0196 E066     		str	r0, [r4, #108]	@ float
  53:APP/VolPro.c  **** 		break;
 312              		.loc 1 53 3 is_stmt 1 view .LVU72
 313              	.L1:
  54:APP/VolPro.c  **** 	case AD3_BAT://计算电池电压
  55:APP/VolPro.c  **** 		temp = ((((float) Vol.ADS[3]) / 4096) * 3.275);
  56:APP/VolPro.c  **** 		temp /= 3;
  57:APP/VolPro.c  **** 		temp *= BATPARA;
  58:APP/VolPro.c  **** 		Vol.BAT = temp;
  59:APP/VolPro.c  **** 		break;
  60:APP/VolPro.c  **** 	case AD4_IF://计算放电电流
  61:APP/VolPro.c  **** 		temp = ((((float) Vol.ADS[4]) / 4096) * 3.275);
  62:APP/VolPro.c  **** 		temp /= 0.06;
  63:APP/VolPro.c  **** 		Vol.IF = temp;
  64:APP/VolPro.c  **** 		Vol.BatOutPower = Vol.IF * Vol.BAT;
  65:APP/VolPro.c  **** 		break;
  66:APP/VolPro.c  **** 	case AD5_IC://计算充电电流
  67:APP/VolPro.c  **** 		temp = ((((float) Vol.ADS[5]) / 4096) * 3.275);
  68:APP/VolPro.c  **** 		temp /= 0.42;
  69:APP/VolPro.c  **** 		Vol.IC = temp;
  70:APP/VolPro.c  **** 		break;
  71:APP/VolPro.c  **** 	case AD6_IC1:
  72:APP/VolPro.c  **** 		temp = ((((float) Vol.ADS[6]) / 4096) * 3.275);
  73:APP/VolPro.c  **** 		temp /= 1.9;
  74:APP/VolPro.c  **** 		Vol.IC1 = temp;
  75:APP/VolPro.c  **** 	
  76:APP/VolPro.c  **** 		if(ParasChecker.chargeflag & 0x02)
  77:APP/VolPro.c  **** 			Vol.BatInPower = Vol.IC1 * Vol.VFN;
  78:APP/VolPro.c  **** 		else if(ParasChecker.chargeflag & 0x04)
  79:APP/VolPro.c  **** 			Vol.BatInPower = Vol.IC1 * Vol.VTY;
  80:APP/VolPro.c  **** 		else if((ParasChecker.chargeflag & 0x06) == 0x06)
  81:APP/VolPro.c  **** 			Vol.BatInPower = (Vol.VFN > Vol.VFN ? (Vol.IC1*Vol.VFN) : (Vol.IC1*Vol.VTY));
  82:APP/VolPro.c  **** 		
  83:APP/VolPro.c  **** 		Vol.cnt++;
  84:APP/VolPro.c  **** 		if(Vol.cnt >= 5)
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 8


  85:APP/VolPro.c  **** 			Vol.complate = 1;
  86:APP/VolPro.c  **** 		volComplt = 1;
  87:APP/VolPro.c  **** 		break;
  88:APP/VolPro.c  **** 	}
  89:APP/VolPro.c  **** }
 314              		.loc 1 89 1 is_stmt 0 view .LVU73
 315 0198 38BD     		pop	{r3, r4, r5, pc}
 316              	.L9:
  55:APP/VolPro.c  **** 		temp /= 3;
 317              		.loc 1 55 3 is_stmt 1 view .LVU74
  55:APP/VolPro.c  **** 		temp /= 3;
 318              		.loc 1 55 28 is_stmt 0 view .LVU75
 319 019a 474C     		ldr	r4, .L27+80
  55:APP/VolPro.c  **** 		temp /= 3;
 320              		.loc 1 55 13 view .LVU76
 321 019c B4F85E00 		ldrh	r0, [r4, #94]
 322 01a0 FFF7FEFF 		bl	__aeabi_ui2f
 323              	.LVL43:
  55:APP/VolPro.c  **** 		temp /= 3;
 324              		.loc 1 55 33 view .LVU77
 325 01a4 4FF06651 		mov	r1, #964689920
 326 01a8 FFF7FEFF 		bl	__aeabi_fmul
 327              	.LVL44:
 328 01ac FFF7FEFF 		bl	__aeabi_f2d
 329              	.LVL45:
  55:APP/VolPro.c  **** 		temp /= 3;
 330              		.loc 1 55 41 view .LVU78
 331 01b0 37A3     		adr	r3, .L27+40
 332 01b2 D3E90023 		ldrd	r2, [r3]
 333 01b6 FFF7FEFF 		bl	__aeabi_dmul
 334              	.LVL46:
 335 01ba FFF7FEFF 		bl	__aeabi_d2f
 336              	.LVL47:
  56:APP/VolPro.c  **** 		temp *= BATPARA;
 337              		.loc 1 56 3 is_stmt 1 view .LVU79
  56:APP/VolPro.c  **** 		temp *= BATPARA;
 338              		.loc 1 56 8 is_stmt 0 view .LVU80
 339 01be 4249     		ldr	r1, .L27+96
 340 01c0 FFF7FEFF 		bl	__aeabi_fdiv
 341              	.LVL48:
  57:APP/VolPro.c  **** 		Vol.BAT = temp;
 342              		.loc 1 57 3 is_stmt 1 view .LVU81
  57:APP/VolPro.c  **** 		Vol.BAT = temp;
 343              		.loc 1 57 8 is_stmt 0 view .LVU82
 344 01c4 FFF7FEFF 		bl	__aeabi_f2d
 345              	.LVL49:
 346 01c8 35A3     		adr	r3, .L27+56
 347 01ca D3E90023 		ldrd	r2, [r3]
 348 01ce FFF7FEFF 		bl	__aeabi_dmul
 349              	.LVL50:
 350 01d2 FFF7FEFF 		bl	__aeabi_d2f
 351              	.LVL51:
 352 01d6 3A4B     		ldr	r3, .L27+88
 353 01d8 1860     		str	r0, [r3]	@ float
  58:APP/VolPro.c  **** 		break;
 354              		.loc 1 58 3 is_stmt 1 view .LVU83
  58:APP/VolPro.c  **** 		break;
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 9


 355              		.loc 1 58 11 is_stmt 0 view .LVU84
 356 01da 2067     		str	r0, [r4, #112]	@ float
  59:APP/VolPro.c  **** 	case AD4_IF://计算放电电流
 357              		.loc 1 59 3 is_stmt 1 view .LVU85
 358 01dc DCE7     		b	.L1
 359              	.L8:
  61:APP/VolPro.c  **** 		temp /= 0.06;
 360              		.loc 1 61 3 view .LVU86
  61:APP/VolPro.c  **** 		temp /= 0.06;
 361              		.loc 1 61 28 is_stmt 0 view .LVU87
 362 01de 364C     		ldr	r4, .L27+80
  61:APP/VolPro.c  **** 		temp /= 0.06;
 363              		.loc 1 61 13 view .LVU88
 364 01e0 B4F86000 		ldrh	r0, [r4, #96]
 365 01e4 FFF7FEFF 		bl	__aeabi_ui2f
 366              	.LVL52:
  61:APP/VolPro.c  **** 		temp /= 0.06;
 367              		.loc 1 61 33 view .LVU89
 368 01e8 4FF06651 		mov	r1, #964689920
 369 01ec FFF7FEFF 		bl	__aeabi_fmul
 370              	.LVL53:
 371 01f0 FFF7FEFF 		bl	__aeabi_f2d
 372              	.LVL54:
  61:APP/VolPro.c  **** 		temp /= 0.06;
 373              		.loc 1 61 41 view .LVU90
 374 01f4 26A3     		adr	r3, .L27+40
 375 01f6 D3E90023 		ldrd	r2, [r3]
 376 01fa FFF7FEFF 		bl	__aeabi_dmul
 377              	.LVL55:
 378 01fe FFF7FEFF 		bl	__aeabi_d2f
 379              	.LVL56:
  62:APP/VolPro.c  **** 		Vol.IF = temp;
 380              		.loc 1 62 3 is_stmt 1 view .LVU91
  62:APP/VolPro.c  **** 		Vol.IF = temp;
 381              		.loc 1 62 8 is_stmt 0 view .LVU92
 382 0202 FFF7FEFF 		bl	__aeabi_f2d
 383              	.LVL57:
 384 0206 28A3     		adr	r3, .L27+64
 385 0208 D3E90023 		ldrd	r2, [r3]
 386 020c FFF7FEFF 		bl	__aeabi_ddiv
 387              	.LVL58:
 388 0210 FFF7FEFF 		bl	__aeabi_d2f
 389              	.LVL59:
 390 0214 2A4A     		ldr	r2, .L27+88
 391 0216 1060     		str	r0, [r2]	@ float
  63:APP/VolPro.c  **** 		Vol.BatOutPower = Vol.IF * Vol.BAT;
 392              		.loc 1 63 3 is_stmt 1 view .LVU93
  63:APP/VolPro.c  **** 		Vol.BatOutPower = Vol.IF * Vol.BAT;
 393              		.loc 1 63 10 is_stmt 0 view .LVU94
 394 0218 A067     		str	r0, [r4, #120]	@ float
  64:APP/VolPro.c  **** 		break;
 395              		.loc 1 64 3 is_stmt 1 view .LVU95
  64:APP/VolPro.c  **** 		break;
 396              		.loc 1 64 28 is_stmt 0 view .LVU96
 397 021a 216F     		ldr	r1, [r4, #112]	@ float
 398 021c FFF7FEFF 		bl	__aeabi_fmul
 399              	.LVL60:
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 10


  64:APP/VolPro.c  **** 		break;
 400              		.loc 1 64 19 view .LVU97
 401 0220 FFF7FEFF 		bl	__aeabi_f2uiz
 402              	.LVL61:
 403 0224 A4F88600 		strh	r0, [r4, #134]	@ movhi
  65:APP/VolPro.c  **** 	case AD5_IC://计算充电电流
 404              		.loc 1 65 3 is_stmt 1 view .LVU98
 405 0228 B6E7     		b	.L1
 406              	.L7:
  67:APP/VolPro.c  **** 		temp /= 0.42;
 407              		.loc 1 67 3 view .LVU99
  67:APP/VolPro.c  **** 		temp /= 0.42;
 408              		.loc 1 67 28 is_stmt 0 view .LVU100
 409 022a 234C     		ldr	r4, .L27+80
  67:APP/VolPro.c  **** 		temp /= 0.42;
 410              		.loc 1 67 13 view .LVU101
 411 022c B4F86200 		ldrh	r0, [r4, #98]
 412 0230 FFF7FEFF 		bl	__aeabi_ui2f
 413              	.LVL62:
  67:APP/VolPro.c  **** 		temp /= 0.42;
 414              		.loc 1 67 33 view .LVU102
 415 0234 4FF06651 		mov	r1, #964689920
 416 0238 FFF7FEFF 		bl	__aeabi_fmul
 417              	.LVL63:
 418 023c FFF7FEFF 		bl	__aeabi_f2d
 419              	.LVL64:
  67:APP/VolPro.c  **** 		temp /= 0.42;
 420              		.loc 1 67 41 view .LVU103
 421 0240 13A3     		adr	r3, .L27+40
 422 0242 D3E90023 		ldrd	r2, [r3]
 423 0246 FFF7FEFF 		bl	__aeabi_dmul
 424              	.LVL65:
 425 024a FFF7FEFF 		bl	__aeabi_d2f
 426              	.LVL66:
  68:APP/VolPro.c  **** 		Vol.IC = temp;
 427              		.loc 1 68 3 is_stmt 1 view .LVU104
  68:APP/VolPro.c  **** 		Vol.IC = temp;
 428              		.loc 1 68 8 is_stmt 0 view .LVU105
 429 024e FFF7FEFF 		bl	__aeabi_f2d
 430              	.LVL67:
 431 0252 17A3     		adr	r3, .L27+72
 432 0254 D3E90023 		ldrd	r2, [r3]
 433 0258 FFF7FEFF 		bl	__aeabi_ddiv
 434              	.LVL68:
 435 025c FFF7FEFF 		bl	__aeabi_d2f
 436              	.LVL69:
 437 0260 174B     		ldr	r3, .L27+88
 438 0262 1860     		str	r0, [r3]	@ float
  69:APP/VolPro.c  **** 		break;
 439              		.loc 1 69 3 is_stmt 1 view .LVU106
  69:APP/VolPro.c  **** 		break;
 440              		.loc 1 69 10 is_stmt 0 view .LVU107
 441 0264 E067     		str	r0, [r4, #124]	@ float
  70:APP/VolPro.c  **** 	case AD6_IC1:
 442              		.loc 1 70 3 is_stmt 1 view .LVU108
 443 0266 97E7     		b	.L1
 444              	.L28:
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 11


 445              		.align	3
 446              	.L27:
 447 0268 66666666 		.word	1717986918
 448 026c 66660A40 		.word	1074423398
 449 0270 9A999999 		.word	2576980378
 450 0274 9999D93F 		.word	1071225241
 451 0278 AE47E17A 		.word	2061584302
 452 027c 14AE0740 		.word	1074245140
 453 0280 BC749318 		.word	412316860
 454 0284 04564040 		.word	1077958148
 455 0288 9A999999 		.word	2576980378
 456 028c 99992140 		.word	1075943833
 457 0290 33333333 		.word	858993459
 458 0294 33330A40 		.word	1074410291
 459 0298 14AE47E1 		.word	3779571220
 460 029c 7A144940 		.word	1078531194
 461 02a0 C74B3789 		.word	2302102471
 462 02a4 41885140 		.word	1079085121
 463 02a8 B81E85EB 		.word	3951369912
 464 02ac 51B8AE3F 		.word	1068415057
 465 02b0 E17A14AE 		.word	2920577761
 466 02b4 47E1DA3F 		.word	1071309127
 467 02b8 00000000 		.word	.LANCHOR0
 468 02bc CDCCCCCC 		.word	-858993459
 469 02c0 00000000 		.word	temp
 470 02c4 00000000 		.word	Capture
 471 02c8 00004040 		.word	1077936128
 472 02cc 00006242 		.word	1113718784
 473 02d0 0000A040 		.word	1084227584
 474 02d4 00003442 		.word	1110704128
 475              	.L5:
  72:APP/VolPro.c  **** 		temp /= 1.9;
 476              		.loc 1 72 3 view .LVU109
  72:APP/VolPro.c  **** 		temp /= 1.9;
 477              		.loc 1 72 28 is_stmt 0 view .LVU110
 478 02d8 2F4C     		ldr	r4, .L29+16
  72:APP/VolPro.c  **** 		temp /= 1.9;
 479              		.loc 1 72 13 view .LVU111
 480 02da B4F86400 		ldrh	r0, [r4, #100]
 481 02de FFF7FEFF 		bl	__aeabi_ui2f
 482              	.LVL70:
  72:APP/VolPro.c  **** 		temp /= 1.9;
 483              		.loc 1 72 33 view .LVU112
 484 02e2 4FF06651 		mov	r1, #964689920
 485 02e6 FFF7FEFF 		bl	__aeabi_fmul
 486              	.LVL71:
 487 02ea FFF7FEFF 		bl	__aeabi_f2d
 488              	.LVL72:
  72:APP/VolPro.c  **** 		temp /= 1.9;
 489              		.loc 1 72 41 view .LVU113
 490 02ee 26A3     		adr	r3, .L29
 491 02f0 D3E90023 		ldrd	r2, [r3]
 492 02f4 FFF7FEFF 		bl	__aeabi_dmul
 493              	.LVL73:
 494 02f8 FFF7FEFF 		bl	__aeabi_d2f
 495              	.LVL74:
  73:APP/VolPro.c  **** 		Vol.IC1 = temp;
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 12


 496              		.loc 1 73 3 is_stmt 1 view .LVU114
  73:APP/VolPro.c  **** 		Vol.IC1 = temp;
 497              		.loc 1 73 8 is_stmt 0 view .LVU115
 498 02fc FFF7FEFF 		bl	__aeabi_f2d
 499              	.LVL75:
 500 0300 23A3     		adr	r3, .L29+8
 501 0302 D3E90023 		ldrd	r2, [r3]
 502 0306 FFF7FEFF 		bl	__aeabi_ddiv
 503              	.LVL76:
 504 030a FFF7FEFF 		bl	__aeabi_d2f
 505              	.LVL77:
 506 030e 234B     		ldr	r3, .L29+20
 507 0310 1860     		str	r0, [r3]	@ float
  74:APP/VolPro.c  **** 	
 508              		.loc 1 74 3 is_stmt 1 view .LVU116
  74:APP/VolPro.c  **** 	
 509              		.loc 1 74 11 is_stmt 0 view .LVU117
 510 0312 C4F88000 		str	r0, [r4, #128]	@ float
  76:APP/VolPro.c  **** 			Vol.BatInPower = Vol.IC1 * Vol.VFN;
 511              		.loc 1 76 3 is_stmt 1 view .LVU118
  76:APP/VolPro.c  **** 			Vol.BatInPower = Vol.IC1 * Vol.VFN;
 512              		.loc 1 76 18 is_stmt 0 view .LVU119
 513 0316 224B     		ldr	r3, .L29+24
 514 0318 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
  76:APP/VolPro.c  **** 			Vol.BatInPower = Vol.IC1 * Vol.VFN;
 515              		.loc 1 76 5 view .LVU120
 516 031a 13F0020F 		tst	r3, #2
 517 031e 17D0     		beq	.L17
  77:APP/VolPro.c  **** 		else if(ParasChecker.chargeflag & 0x04)
 518              		.loc 1 77 4 is_stmt 1 view .LVU121
  77:APP/VolPro.c  **** 		else if(ParasChecker.chargeflag & 0x04)
 519              		.loc 1 77 29 is_stmt 0 view .LVU122
 520 0320 A16E     		ldr	r1, [r4, #104]	@ float
 521 0322 FFF7FEFF 		bl	__aeabi_fmul
 522              	.LVL78:
  77:APP/VolPro.c  **** 		else if(ParasChecker.chargeflag & 0x04)
 523              		.loc 1 77 19 view .LVU123
 524 0326 FFF7FEFF 		bl	__aeabi_f2uiz
 525              	.LVL79:
 526 032a A4F88400 		strh	r0, [r4, #132]	@ movhi
 527              	.L18:
  83:APP/VolPro.c  **** 		if(Vol.cnt >= 5)
 528              		.loc 1 83 3 is_stmt 1 view .LVU124
  83:APP/VolPro.c  **** 		if(Vol.cnt >= 5)
 529              		.loc 1 83 6 is_stmt 0 view .LVU125
 530 032e 1A4A     		ldr	r2, .L29+16
 531 0330 92F88830 		ldrb	r3, [r2, #136]	@ zero_extendqisi2
  83:APP/VolPro.c  **** 		if(Vol.cnt >= 5)
 532              		.loc 1 83 10 view .LVU126
 533 0334 0133     		adds	r3, r3, #1
 534 0336 DBB2     		uxtb	r3, r3
 535 0338 82F88830 		strb	r3, [r2, #136]
  84:APP/VolPro.c  **** 			Vol.complate = 1;
 536              		.loc 1 84 3 is_stmt 1 view .LVU127
  84:APP/VolPro.c  **** 			Vol.complate = 1;
 537              		.loc 1 84 5 is_stmt 0 view .LVU128
 538 033c 042B     		cmp	r3, #4
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 13


 539 033e 03D9     		bls	.L20
  85:APP/VolPro.c  **** 		volComplt = 1;
 540              		.loc 1 85 4 is_stmt 1 view .LVU129
  85:APP/VolPro.c  **** 		volComplt = 1;
 541              		.loc 1 85 17 is_stmt 0 view .LVU130
 542 0340 1346     		mov	r3, r2
 543 0342 0122     		movs	r2, #1
 544 0344 83F88920 		strb	r2, [r3, #137]
 545              	.L20:
  86:APP/VolPro.c  **** 		break;
 546              		.loc 1 86 3 is_stmt 1 view .LVU131
  86:APP/VolPro.c  **** 		break;
 547              		.loc 1 86 13 is_stmt 0 view .LVU132
 548 0348 164B     		ldr	r3, .L29+28
 549 034a 0122     		movs	r2, #1
 550 034c 1A70     		strb	r2, [r3]
  87:APP/VolPro.c  **** 	}
 551              		.loc 1 87 3 is_stmt 1 view .LVU133
 552              		.loc 1 89 1 is_stmt 0 view .LVU134
 553 034e 23E7     		b	.L1
 554              	.L17:
  78:APP/VolPro.c  **** 			Vol.BatInPower = Vol.IC1 * Vol.VTY;
 555              		.loc 1 78 8 is_stmt 1 view .LVU135
  78:APP/VolPro.c  **** 			Vol.BatInPower = Vol.IC1 * Vol.VTY;
 556              		.loc 1 78 10 is_stmt 0 view .LVU136
 557 0350 13F0040F 		tst	r3, #4
 558 0354 08D0     		beq	.L19
  79:APP/VolPro.c  **** 		else if((ParasChecker.chargeflag & 0x06) == 0x06)
 559              		.loc 1 79 4 is_stmt 1 view .LVU137
  79:APP/VolPro.c  **** 		else if((ParasChecker.chargeflag & 0x06) == 0x06)
 560              		.loc 1 79 34 is_stmt 0 view .LVU138
 561 0356 104C     		ldr	r4, .L29+16
  79:APP/VolPro.c  **** 		else if((ParasChecker.chargeflag & 0x06) == 0x06)
 562              		.loc 1 79 29 view .LVU139
 563 0358 E16E     		ldr	r1, [r4, #108]	@ float
 564 035a FFF7FEFF 		bl	__aeabi_fmul
 565              	.LVL80:
  79:APP/VolPro.c  **** 		else if((ParasChecker.chargeflag & 0x06) == 0x06)
 566              		.loc 1 79 19 view .LVU140
 567 035e FFF7FEFF 		bl	__aeabi_f2uiz
 568              	.LVL81:
 569 0362 A4F88400 		strh	r0, [r4, #132]	@ movhi
 570 0366 E2E7     		b	.L18
 571              	.L19:
  80:APP/VolPro.c  **** 			Vol.BatInPower = (Vol.VFN > Vol.VFN ? (Vol.IC1*Vol.VFN) : (Vol.IC1*Vol.VTY));
 572              		.loc 1 80 8 is_stmt 1 view .LVU141
  80:APP/VolPro.c  **** 			Vol.BatInPower = (Vol.VFN > Vol.VFN ? (Vol.IC1*Vol.VFN) : (Vol.IC1*Vol.VTY));
 573              		.loc 1 80 10 is_stmt 0 view .LVU142
 574 0368 03F00603 		and	r3, r3, #6
 575 036c 062B     		cmp	r3, #6
 576 036e DED1     		bne	.L18
  81:APP/VolPro.c  **** 		
 577              		.loc 1 81 4 is_stmt 1 view .LVU143
  81:APP/VolPro.c  **** 		
 578              		.loc 1 81 74 is_stmt 0 view .LVU144
 579 0370 094C     		ldr	r4, .L29+16
  81:APP/VolPro.c  **** 		
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 14


 580              		.loc 1 81 60 view .LVU145
 581 0372 E16E     		ldr	r1, [r4, #108]	@ float
 582 0374 FFF7FEFF 		bl	__aeabi_fmul
 583              	.LVL82:
  81:APP/VolPro.c  **** 		
 584              		.loc 1 81 19 view .LVU146
 585 0378 FFF7FEFF 		bl	__aeabi_f2uiz
 586              	.LVL83:
 587 037c A4F88400 		strh	r0, [r4, #132]	@ movhi
 588 0380 D5E7     		b	.L18
 589              	.L30:
 590 0382 00BFAFF3 		.align	3
 590      0080
 591              	.L29:
 592 0388 33333333 		.word	858993459
 593 038c 33330A40 		.word	1074410291
 594 0390 66666666 		.word	1717986918
 595 0394 6666FE3F 		.word	1073636966
 596 0398 00000000 		.word	.LANCHOR0
 597 039c 00000000 		.word	temp
 598 03a0 00000000 		.word	ParasChecker
 599 03a4 00000000 		.word	volComplt
 600              		.cfi_endproc
 601              	.LFE65:
 603              		.section	.text.VolPro,"ax",%progbits
 604              		.align	1
 605              		.global	VolPro
 606              		.syntax unified
 607              		.thumb
 608              		.thumb_func
 609              		.fpu softvfp
 611              	VolPro:
 612              	.LFB66:
  90:APP/VolPro.c  **** 
  91:APP/VolPro.c  **** //循环采集各个通道输入电压
  92:APP/VolPro.c  **** void VolPro(void)	
  93:APP/VolPro.c  **** {
 613              		.loc 1 93 1 is_stmt 1 view -0
 614              		.cfi_startproc
 615              		@ args = 0, pretend = 0, frame = 0
 616              		@ frame_needed = 0, uses_anonymous_args = 0
 617 0000 08B5     		push	{r3, lr}
 618              	.LCFI1:
 619              		.cfi_def_cfa_offset 8
 620              		.cfi_offset 3, -8
 621              		.cfi_offset 14, -4
  94:APP/VolPro.c  **** 	u8 ch=0;
 622              		.loc 1 94 2 view .LVU148
 623              	.LVL84:
  95:APP/VolPro.c  **** 	switch (Vol.CurCh) 
 624              		.loc 1 95 2 view .LVU149
 625              		.loc 1 95 13 is_stmt 0 view .LVU150
 626 0002 204B     		ldr	r3, .L47
 627 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 628              		.loc 1 95 2 view .LVU151
 629 0006 062B     		cmp	r3, #6
 630 0008 2BD8     		bhi	.L43
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 15


 631 000a DFE803F0 		tbb	[pc, r3]
 632              	.L34:
 633 000e 04       		.byte	(.L40-.L34)/2
 634 000f 13       		.byte	(.L39-.L34)/2
 635 0010 16       		.byte	(.L38-.L34)/2
 636 0011 1A       		.byte	(.L37-.L34)/2
 637 0012 1E       		.byte	(.L36-.L34)/2
 638 0013 22       		.byte	(.L35-.L34)/2
 639 0014 26       		.byte	(.L33-.L34)/2
 640 0015 00       		.p2align 1
 641              	.L40:
  96:APP/VolPro.c  **** 	{
  97:APP/VolPro.c  **** 	case AD0_VAC:
  98:APP/VolPro.c  **** 		ch = ADCS.AD0_VAC.ch;		//市电输入电压采集
 642              		.loc 1 98 3 is_stmt 1 view .LVU152
 643              		.loc 1 98 6 is_stmt 0 view .LVU153
 644 0016 1C4B     		ldr	r3, .L47+4
 645 0018 187A     		ldrb	r0, [r3, #8]	@ zero_extendqisi2
 646              	.LVL85:
  99:APP/VolPro.c  **** 		break;
 647              		.loc 1 99 3 is_stmt 1 view .LVU154
 648              	.L32:
 100:APP/VolPro.c  **** 	case AD1_VFN:
 101:APP/VolPro.c  **** 		ch = ADCS.AD1_VFN.ch;		//风能输入电压采集
 102:APP/VolPro.c  **** 		break;
 103:APP/VolPro.c  **** 	case AD2_VTY:
 104:APP/VolPro.c  **** 		ch = ADCS.AD2_VTY.ch;		//太阳能输入电压采集
 105:APP/VolPro.c  **** 		break;
 106:APP/VolPro.c  **** 	case AD3_BAT:
 107:APP/VolPro.c  **** 		ch = ADCS.AD3_BAT.ch;		//电池电压采集
 108:APP/VolPro.c  **** 		break;
 109:APP/VolPro.c  **** 	case AD4_IF:
 110:APP/VolPro.c  **** 		ch = ADCS.AD4_IF.ch;		//放电电流采集
 111:APP/VolPro.c  **** 		break;
 112:APP/VolPro.c  **** 	case AD5_IC:
 113:APP/VolPro.c  **** 		ch = ADCS.AD5_IC.ch;		//充电电流采集
 114:APP/VolPro.c  **** 		break;
 115:APP/VolPro.c  **** 	case AD6_IC1:
 116:APP/VolPro.c  **** 		ch = ADCS.AD6_IC1.ch;		//充电电流采集
 117:APP/VolPro.c  **** 		break;
 118:APP/VolPro.c  **** 	}
 119:APP/VolPro.c  **** 	Vol.AD_Temps[Vol.VolCnt++] = Get_Adc(ch);
 649              		.loc 1 119 2 view .LVU155
 650              		.loc 1 119 31 is_stmt 0 view .LVU156
 651 001a FFF7FEFF 		bl	Get_Adc
 652              	.LVL86:
 653              		.loc 1 119 18 view .LVU157
 654 001e 1949     		ldr	r1, .L47
 655 0020 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 656              		.loc 1 119 25 view .LVU158
 657 0022 531C     		adds	r3, r2, #1
 658 0024 DBB2     		uxtb	r3, r3
 659 0026 4B70     		strb	r3, [r1, #1]
 660              		.loc 1 119 29 view .LVU159
 661 0028 0232     		adds	r2, r2, #2
 662 002a 41F82200 		str	r0, [r1, r2, lsl #2]
 120:APP/VolPro.c  **** 	if (Vol.VolCnt >= MAXVOLCNT) 
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 16


 663              		.loc 1 120 2 is_stmt 1 view .LVU160
 664              		.loc 1 120 5 is_stmt 0 view .LVU161
 665 002e 132B     		cmp	r3, #19
 666 0030 19D8     		bhi	.L45
 667              	.L31:
 121:APP/VolPro.c  **** 	{
 122:APP/VolPro.c  **** 		CalculatedAverage();
 123:APP/VolPro.c  **** 		Vol.VolCnt = 0;
 124:APP/VolPro.c  **** 		if (Vol.CurCh == AD6_IC1)
 125:APP/VolPro.c  **** 			Vol.CurCh = AD0_VAC;
 126:APP/VolPro.c  **** 		else
 127:APP/VolPro.c  **** 			Vol.CurCh++;
 128:APP/VolPro.c  **** 	}
 129:APP/VolPro.c  **** }
 668              		.loc 1 129 1 view .LVU162
 669 0032 08BD     		pop	{r3, pc}
 670              	.LVL87:
 671              	.L39:
 101:APP/VolPro.c  **** 		break;
 672              		.loc 1 101 3 is_stmt 1 view .LVU163
 101:APP/VolPro.c  **** 		break;
 673              		.loc 1 101 6 is_stmt 0 view .LVU164
 674 0034 144B     		ldr	r3, .L47+4
 675 0036 187D     		ldrb	r0, [r3, #20]	@ zero_extendqisi2
 676              	.LVL88:
 102:APP/VolPro.c  **** 	case AD2_VTY:
 677              		.loc 1 102 3 is_stmt 1 view .LVU165
 678 0038 EFE7     		b	.L32
 679              	.LVL89:
 680              	.L38:
 104:APP/VolPro.c  **** 		break;
 681              		.loc 1 104 3 view .LVU166
 104:APP/VolPro.c  **** 		break;
 682              		.loc 1 104 6 is_stmt 0 view .LVU167
 683 003a 134B     		ldr	r3, .L47+4
 684 003c 93F82000 		ldrb	r0, [r3, #32]	@ zero_extendqisi2
 685              	.LVL90:
 105:APP/VolPro.c  **** 	case AD3_BAT:
 686              		.loc 1 105 3 is_stmt 1 view .LVU168
 687 0040 EBE7     		b	.L32
 688              	.LVL91:
 689              	.L37:
 107:APP/VolPro.c  **** 		break;
 690              		.loc 1 107 3 view .LVU169
 107:APP/VolPro.c  **** 		break;
 691              		.loc 1 107 6 is_stmt 0 view .LVU170
 692 0042 114B     		ldr	r3, .L47+4
 693 0044 93F82C00 		ldrb	r0, [r3, #44]	@ zero_extendqisi2
 694              	.LVL92:
 108:APP/VolPro.c  **** 	case AD4_IF:
 695              		.loc 1 108 3 is_stmt 1 view .LVU171
 696 0048 E7E7     		b	.L32
 697              	.LVL93:
 698              	.L36:
 110:APP/VolPro.c  **** 		break;
 699              		.loc 1 110 3 view .LVU172
 110:APP/VolPro.c  **** 		break;
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 17


 700              		.loc 1 110 6 is_stmt 0 view .LVU173
 701 004a 0F4B     		ldr	r3, .L47+4
 702 004c 93F83800 		ldrb	r0, [r3, #56]	@ zero_extendqisi2
 703              	.LVL94:
 111:APP/VolPro.c  **** 	case AD5_IC:
 704              		.loc 1 111 3 is_stmt 1 view .LVU174
 705 0050 E3E7     		b	.L32
 706              	.LVL95:
 707              	.L35:
 113:APP/VolPro.c  **** 		break;
 708              		.loc 1 113 3 view .LVU175
 113:APP/VolPro.c  **** 		break;
 709              		.loc 1 113 6 is_stmt 0 view .LVU176
 710 0052 0D4B     		ldr	r3, .L47+4
 711 0054 93F84400 		ldrb	r0, [r3, #68]	@ zero_extendqisi2
 712              	.LVL96:
 114:APP/VolPro.c  **** 	case AD6_IC1:
 713              		.loc 1 114 3 is_stmt 1 view .LVU177
 714 0058 DFE7     		b	.L32
 715              	.LVL97:
 716              	.L33:
 116:APP/VolPro.c  **** 		break;
 717              		.loc 1 116 3 view .LVU178
 116:APP/VolPro.c  **** 		break;
 718              		.loc 1 116 6 is_stmt 0 view .LVU179
 719 005a 0B4B     		ldr	r3, .L47+4
 720 005c 93F85000 		ldrb	r0, [r3, #80]	@ zero_extendqisi2
 721              	.LVL98:
 117:APP/VolPro.c  **** 	}
 722              		.loc 1 117 3 is_stmt 1 view .LVU180
 723 0060 DBE7     		b	.L32
 724              	.LVL99:
 725              	.L43:
  94:APP/VolPro.c  **** 	switch (Vol.CurCh) 
 726              		.loc 1 94 5 is_stmt 0 view .LVU181
 727 0062 0020     		movs	r0, #0
 728 0064 D9E7     		b	.L32
 729              	.LVL100:
 730              	.L45:
 122:APP/VolPro.c  **** 		Vol.VolCnt = 0;
 731              		.loc 1 122 3 is_stmt 1 view .LVU182
 732 0066 FFF7FEFF 		bl	CalculatedAverage
 733              	.LVL101:
 123:APP/VolPro.c  **** 		if (Vol.CurCh == AD6_IC1)
 734              		.loc 1 123 3 view .LVU183
 123:APP/VolPro.c  **** 		if (Vol.CurCh == AD6_IC1)
 735              		.loc 1 123 14 is_stmt 0 view .LVU184
 736 006a 064B     		ldr	r3, .L47
 737 006c 0022     		movs	r2, #0
 738 006e 5A70     		strb	r2, [r3, #1]
 124:APP/VolPro.c  **** 			Vol.CurCh = AD0_VAC;
 739              		.loc 1 124 3 is_stmt 1 view .LVU185
 124:APP/VolPro.c  **** 			Vol.CurCh = AD0_VAC;
 740              		.loc 1 124 10 is_stmt 0 view .LVU186
 741 0070 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 124:APP/VolPro.c  **** 			Vol.CurCh = AD0_VAC;
 742              		.loc 1 124 6 view .LVU187
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 18


 743 0072 062B     		cmp	r3, #6
 744 0074 03D0     		beq	.L46
 127:APP/VolPro.c  **** 	}
 745              		.loc 1 127 4 is_stmt 1 view .LVU188
 127:APP/VolPro.c  **** 	}
 746              		.loc 1 127 13 is_stmt 0 view .LVU189
 747 0076 0133     		adds	r3, r3, #1
 748 0078 024A     		ldr	r2, .L47
 749 007a 1370     		strb	r3, [r2]
 750              		.loc 1 129 1 view .LVU190
 751 007c D9E7     		b	.L31
 752              	.L46:
 125:APP/VolPro.c  **** 		else
 753              		.loc 1 125 4 is_stmt 1 view .LVU191
 125:APP/VolPro.c  **** 		else
 754              		.loc 1 125 14 is_stmt 0 view .LVU192
 755 007e 014B     		ldr	r3, .L47
 756 0080 1A70     		strb	r2, [r3]
 757 0082 D6E7     		b	.L31
 758              	.L48:
 759              		.align	2
 760              	.L47:
 761 0084 00000000 		.word	.LANCHOR0
 762 0088 00000000 		.word	ADCS
 763              		.cfi_endproc
 764              	.LFE66:
 766              		.comm	temp,4,4
 767              		.global	Vol
 768              		.section	.bss.Vol,"aw",%nobits
 769              		.align	2
 770              		.set	.LANCHOR0,. + 0
 773              	Vol:
 774 0000 00000000 		.space	140
 774      00000000 
 774      00000000 
 774      00000000 
 774      00000000 
 775              		.text
 776              	.Letext0:
 777              		.file 2 "/Users/shuuyou/gcc-arm-none-eabi/arm-none-eabi/include/machine/_default_types.h"
 778              		.file 3 "/Users/shuuyou/gcc-arm-none-eabi/arm-none-eabi/include/sys/_stdint.h"
 779              		.file 4 "Inc/stm32l152xe.h"
 780              		.file 5 "/Users/shuuyou/gcc-arm-none-eabi/lib/gcc/arm-none-eabi/8.3.1/include/stddef.h"
 781              		.file 6 "/Users/shuuyou/gcc-arm-none-eabi/arm-none-eabi/include/sys/_types.h"
 782              		.file 7 "/Users/shuuyou/gcc-arm-none-eabi/arm-none-eabi/include/sys/reent.h"
 783              		.file 8 "/Users/shuuyou/gcc-arm-none-eabi/arm-none-eabi/include/sys/lock.h"
 784              		.file 9 "Inc/core_cm3.h"
 785              		.file 10 "APP/inc/Public.h"
 786              		.file 11 "RML1028B/RML1028B.h"
 787              		.file 12 "HARDWARE/inc/Temputer.h"
 788              		.file 13 "HARDWARE/inc/Adc.h"
 789              		.file 14 "HARDWARE/inc/Timer.h"
 790              		.file 15 "HARDWARE/inc/Control.h"
 791              		.file 16 "TOOL/inc/malloc.h"
 792              		.file 17 "TOOL/inc/TaskManger.h"
 793              		.file 18 "DISPALY/inc/DispManger.h"
 794              		.file 19 "TOOL/inc/CrcUtil.h"
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 19


 795              		.file 20 "APP/inc/FreqPro.h"
 796              		.file 21 "APP/inc/ParasCheckPro.h"
 797              		.file 22 "APP/inc/TemputerPro.h"
 798              		.file 23 "APP/inc/VolPro.h"
ARM GAS  /var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s 			page 20


DEFINED SYMBOLS
                            *ABS*:0000000000000000 VolPro.c
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:27     .text.CalculatedAverage:0000000000000000 $t
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:35     .text.CalculatedAverage:0000000000000000 CalculatedAverage
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:108    .text.CalculatedAverage:000000000000004e $d
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:115    .text.CalculatedAverage:000000000000005c $t
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:447    .text.CalculatedAverage:0000000000000268 $d
                            *COM*:0000000000000004 temp
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:478    .text.CalculatedAverage:00000000000002d8 $t
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:592    .text.CalculatedAverage:0000000000000388 $d
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:604    .text.VolPro:0000000000000000 $t
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:611    .text.VolPro:0000000000000000 VolPro
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:633    .text.VolPro:000000000000000e $d
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:761    .text.VolPro:0000000000000084 $d
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:773    .bss.Vol:0000000000000000 Vol
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:769    .bss.Vol:0000000000000000 $d
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:640    .text.VolPro:0000000000000015 $d
/var/folders/ww/n4ctlbrs3x70633t9y2ks63c0000gn/T//ccTG3Klb.s:640    .text.VolPro:0000000000000016 $t

UNDEFINED SYMBOLS
__aeabi_ui2f
__aeabi_fmul
__aeabi_f2d
__aeabi_dmul
__aeabi_d2f
__aeabi_dcmplt
__aeabi_ddiv
__aeabi_fadd
__aeabi_f2uiz
__aeabi_fdiv
__aeabi_fcmple
mySort
Capture
ParasChecker
volComplt
Get_Adc
ADCS
